<!doctype html>
<html>
  <head>
    <title>Swatchr</title>
    <script src="/js/vendor/jquery-2.1.3.min.js"></script>
   <!--  <link href="/css/codemirror/codemirror.css" rel="stylesheet" />
    <link href="/css/codemirror/material.css" rel="stylesheet" /> -->
    <script>
    function handleContentUpdate(msg) {
      switch (msg.type) {
        case "preview":
          console.log("[preview:content] updated");
          $(".preview-contents").html(msg.data);
          break;
        case "styles":
          console.log("[preview:styles] updated");
          $("#dynamic-style-target").text(msg.data);
          break;
        default:
          console.error("[preview:msg:error] unknown type received");
      }

    }

    window.iFrameResizer = {
      messageCallback: handleContentUpdate
    }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.1/iframeResizer.contentWindow.js"></script>
    <style id="dynamic-style-target"></style>
  </head>
  <body>


  <div class="preview-contents">

  </div>
  <script>

  </script>
</body>

</html>
